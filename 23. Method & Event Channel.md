# Method & Event Channel

Biasanya digunakan untuk berkomunikasi dengan library java/native

## Method Channel

Memanggil fungsi library native dari flutter melalui identifier dan payload

```dart
import 'package:flutter/services.dart';

class NativeService {
  static const _channel = MethodChannel('com.example/native');

  static Future<String> getDeviceName() async {
    final result = await _channel.invokeMethod('getDeviceName', {
        'a': 5,
        'b': 3
    });
    return result;
  }
}
```

```java
private val CHANNEL = "com.example/native"

override fun configureFlutterEngine(flutterEngine: FlutterEngine) {
    super.configureFlutterEngine(flutterEngine)

    MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL)
        .setMethodCallHandler { call, result ->
            if (call.method == "getDeviceName") {
                // ambil argument yang dikirim jika perlu
                val a = call.argument<Int>("a") ?: 0
                val b = call.argument<Int>("b") ?: 0

                val deviceName = android.os.Build.MODEL
                result.success(deviceName)
            } else {
                result.notImplemented()
            }
        }
}

```

Dalam kedua kode tersebut, pastikan baik dari flutter, maupun java menggunakan channel yang sama `com.example/native`

Kemudian jika kita lihat, komunikasi diawali dari flutter dan dihandling serta dikembalikan oleh java.
