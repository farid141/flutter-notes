# State

Untuk menggunakan state, ada pola yang harus diikuti

## Pass ke StatefullWidget

```dart
// Main class, berisi 3 point utama
// 1. Internal state definition 
// 2. constructor
// 3. override createState function 
class MyPage extends StatefulWidget {
  final int initialCount;
  final String title;

  const MyPage({
    super.key,
    required this.initialCount,
    required this.title,
  });

  @override
  State<MyPage> createState() => _MyPageState();
}

// State class
class _MyPageState extends State<MyPage> {
  // use late keyword, as you dont want to initialize its value in this class
  late int _count;

  @override
  void initState() {
    super.initState();
    // Main class properties are accessible via 'widget' obj to set initial state or final property
    _count = widget.initialCount;
  }

  @override
  Widget build(BuildContext context) {
    return Widget();
  }
}
```

## Menggunakan Tipe Data

### Definisi Model

```dart
class CollateralState {
  final String status;
  final bool isLoading;
  final String? error;

  const CollateralState({
    required this.status,
    this.isLoading = false,
    this.error,
  });

  CollateralState copyWith({
    String? status,
    bool? isLoading,
    String? error,
  }) {
    return CollateralState(
      status: status ?? this.status,
      isLoading: isLoading ?? this.isLoading,
      error: error,
    );
  }
}
```

### Penggunaan

```dart
// definisi state
CollateralState state = const CollateralState(status: '0');

// update certain state field
setState(() {
  state = state.copyWith(
    status: '1.1',
    isLoading: true,
  );
});
```
